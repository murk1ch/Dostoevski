<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мир Достоевского — Жизнь и Творчество</title>

    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400;1,700&family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Nunito+Sans:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
        /* =============================================================
           I. CSS-ПЕРЕМЕННЫЕ — ПАЛИТРА «ВИКТОРИАНСКИЙ НУАР»
           ============================================================= */
        :root {
            /* Основные цвета */
            --gold:            #c9a84c;
            --gold-light:      #e8d48b;
            --gold-dark:       #a07c2a;
            --gold-glow:       rgba(201, 168, 76, 0.35);

            /* Фоны — угольные */
            --bg-deep:         #0e0b08;
            --bg-dark:         #16120e;
            --bg-medium:       #221c16;
            --bg-card:         #2a2218;
            --bg-card-hover:   #322a1e;

            /* Винные акценты */
            --wine:            #5c1a1a;
            --wine-soft:       rgba(92, 26, 26, 0.25);

            /* Текст */
            --text-bright:     #f0e8d8;
            --text-light:      #e0d4c0;
            --text-muted:      #a89880;
            --text-dim:        #776a58;

            /* Пергамент */
            --parchment:       #d4c5a9;
            --parchment-dark:  #b8a88a;

            /* Тени и свечения */
            --shadow-deep:     rgba(0, 0, 0, 0.6);
            --shadow-gold:     rgba(201, 168, 76, 0.25);
            --candle-glow:     radial-gradient(ellipse at 50% 30%, rgba(201, 168, 76, 0.06) 0%, transparent 70%);

            /* Анимации */
            --ease-smooth:     cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --ease-bounce:     cubic-bezier(0.34, 1.56, 0.64, 1);
            --tr-fast:         0.3s;
            --tr-medium:       0.5s ease-in-out;
            --tr-slow:         0.8s ease-in-out;
        }

        /* =============================================================
           II. СБРОС И БАЗОВЫЕ СТИЛИ
           ============================================================= */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: 'Cormorant Garamond', 'Georgia', serif;
            background-color: var(--bg-deep);
            color: var(--text-light);
            line-height: 1.75;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Глобальные классы для переключения режима текста */
        .brief-text { display: none !important; }
        body.brief-mode .full-text { display: none !important; }
        body.brief-mode .brief-text { display: block !important; }

        /* Кастомный скроллбар — золотой акцент */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-deep); }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--gold-dark), var(--gold), var(--gold-dark));
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover { background: var(--gold-light); }

        /* =============================================================
           III. ТЕКСТУРНЫЙ ОВЕРЛЕЙ И ЧАСТИЦЫ
           ============================================================= */
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            background:
                repeating-conic-gradient(
                    rgba(139, 119, 90, 0.025) 0% 25%,
                    transparent 0% 50%
                ) 0 0 / 3px 3px,
                repeating-linear-gradient(
                    0deg,
                    transparent, transparent 120px,
                    rgba(201, 168, 76, 0.015) 120px,
                    rgba(201, 168, 76, 0.015) 121px
                );
        }

        body::after {
            content: '';
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            background-image:
                radial-gradient(1.5px 1.5px at 10% 20%,  rgba(201,168,76,0.35) 50%, transparent 50%),
                radial-gradient(1px 1px   at 25% 55%,  rgba(201,168,76,0.25) 50%, transparent 50%),
                radial-gradient(2px 2px   at 40% 15%,  rgba(201,168,76,0.3)  50%, transparent 50%),
                radial-gradient(1px 1px   at 55% 75%,  rgba(201,168,76,0.2)  50%, transparent 50%),
                radial-gradient(1.5px 1.5px at 70% 35%,  rgba(201,168,76,0.28) 50%, transparent 50%),
                radial-gradient(1px 1px   at 85% 60%,  rgba(201,168,76,0.22) 50%, transparent 50%),
                radial-gradient(2px 2px   at 15% 80%,  rgba(201,168,76,0.18) 50%, transparent 50%),
                radial-gradient(1px 1px   at 60% 45%,  rgba(201,168,76,0.3)  50%, transparent 50%),
                radial-gradient(1.5px 1.5px at 90% 10%,  rgba(201,168,76,0.25) 50%, transparent 50%),
                radial-gradient(1px 1px   at 35% 90%,  rgba(201,168,76,0.2)  50%, transparent 50%),
                radial-gradient(1.5px 1.5px at 75% 85%,  rgba(201,168,76,0.15) 50%, transparent 50%),
                radial-gradient(1px 1px   at 50% 30%,  rgba(201,168,76,0.2)  50%, transparent 50%);
            background-size:
                350px 400px, 280px 350px, 400px 320px,
                300px 380px, 360px 290px, 320px 420px,
                380px 300px, 290px 360px, 340px 380px,
                310px 340px, 370px 310px, 330px 370px;
            animation: floatParticles 25s linear infinite;
            opacity: 0.7;
        }

        /* =============================================================
           IV. KEYFRAME-АНИМАЦИИ
           ============================================================= */
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(45px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes candleGlow { 0%, 100% { text-shadow: 0 0 8px var(--gold-glow), 0 0 20px rgba(201, 168, 76, 0.12); } 50% { text-shadow: 0 0 18px var(--gold-glow), 0 0 45px rgba(201, 168, 76, 0.2); } }
        @keyframes dotPulse { 0%, 100% { box-shadow: 0 0 0 0 rgba(201, 168, 76, 0.55); } 50% { box-shadow: 0 0 0 14px rgba(201, 168, 76, 0); } }
        @keyframes inkSpread { 0% { transform: scale(0); opacity: 0; } 40% { opacity: 0.18; } 100% { transform: scale(1); opacity: 0; } }
        @keyframes quillBlink { 0%, 100% { border-right-color: var(--gold); } 50% { border-right-color: transparent; } }
        @keyframes drawArrow { from { clip-path: inset(0 100% 0 0); } to { clip-path: inset(0 0 0 0); } }
        @keyframes floatSoft { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
        @keyframes floatParticles { 0% { background-position: 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0; } 100% { background-position: 350px -400px, -280px 350px, 400px -320px, -300px 380px, 360px -290px, -320px 420px, 380px -300px, -290px 360px, 340px -380px, -310px 340px, 370px -310px, -330px 370px; } }
        @keyframes rotateRing { from { transform: translateX(-50%) rotate(0deg); } to { transform: translateX(-50%) rotate(360deg); } }
        @keyframes shimmer { 0% { background-position: -200% center; } 100% { background-position: 200% center; } }
        @keyframes scalePulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

        /* =============================================================
           V. НАВИГАЦИЯ
           ============================================================= */
        nav {
            position: fixed;
            top: 0; left: 0; width: 100%; z-index: 1000;
            background: linear-gradient(180deg, rgba(14, 11, 8, 0.95) 0%, rgba(14, 11, 8, 0.82) 100%);
            backdrop-filter: blur(16px) saturate(1.4);
            -webkit-backdrop-filter: blur(16px) saturate(1.4);
            border-bottom: 1px solid rgba(201, 168, 76, 0.1);
            padding: 0.85rem 2.5rem;
            display: flex; justify-content: space-between; align-items: center;
            transition: padding var(--tr-fast), background var(--tr-fast), box-shadow var(--tr-fast);
        }

        nav.scrolled {
            padding: 0.55rem 2.5rem;
            background: rgba(14, 11, 8, 0.98);
            box-shadow: 0 6px 40px rgba(0, 0, 0, 0.6), 0 1px 0 rgba(201, 168, 76, 0.12);
        }

        .nav-logo {
            font-family: 'Playfair Display', serif; font-size: 1.25rem; font-weight: 700;
            color: var(--gold); letter-spacing: 3px; text-transform: uppercase;
            text-shadow: 0 0 20px rgba(201, 168, 76, 0.15); transition: text-shadow var(--tr-fast);
        }
        .nav-logo:hover { text-shadow: 0 0 30px rgba(201, 168, 76, 0.35); }

        .nav-links {
            display: flex; gap: 2.2rem; list-style: none; align-items: center;
        }

        .nav-links a {
            color: var(--text-muted); text-decoration: none;
            font-family: 'Nunito Sans', sans-serif; font-size: 0.88rem; font-weight: 600;
            letter-spacing: 1.5px; text-transform: uppercase; position: relative;
            transition: color var(--tr-fast);
        }
        .nav-links a::after {
            content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 2px;
            background: linear-gradient(90deg, transparent, var(--gold-light), var(--gold), var(--gold-light), transparent);
            background-size: 200% 100%; transition: width 0.4s var(--ease-smooth);
        }
        .nav-links a:hover { color: var(--gold-light); }
        .nav-links a:hover::after { width: 100%; animation: shimmer 2s linear infinite; }

        /* Кнопка переключения режимов текста */
        .mode-toggle {
            background: transparent;
            border: 1px solid var(--gold-dark);
            color: var(--gold);
            padding: 0.4rem 1rem;
            border-radius: 4px;
            font-family: 'Nunito Sans', sans-serif;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            cursor: pointer;
            transition: all var(--tr-fast);
            letter-spacing: 1.5px;
        }

        .mode-toggle:hover {
            background: rgba(201, 168, 76, 0.1);
            color: var(--gold-light);
            box-shadow: 0 0 10px rgba(201, 168, 76, 0.2);
        }

        body.brief-mode .mode-toggle {
            background: linear-gradient(135deg, var(--gold), var(--gold-light));
            color: var(--bg-deep);
            border-color: var(--gold);
            box-shadow: 0 0 15px rgba(201, 168, 76, 0.3);
        }

        .burger {
            display: none; flex-direction: column; gap: 6px; cursor: pointer; z-index: 1001;
        }
        .burger span {
            width: 28px; height: 2px; background: var(--gold); border-radius: 2px; transition: all var(--tr-fast);
        }
        .burger.active span:nth-child(1) { transform: rotate(45deg) translate(6px, 6px); }
        .burger.active span:nth-child(2) { opacity: 0; }
        .burger.active span:nth-child(3) { transform: rotate(-45deg) translate(6px, -6px); }

        /* =============================================================
           VI. СЕКЦИЯ-ГЕРОЙ (HERO)
           ============================================================= */
        .hero {
            position: relative; min-height: 100vh; display: flex; flex-direction: column;
            justify-content: center; align-items: center; text-align: center; padding: 7rem 2rem 5rem;
            background:
                conic-gradient(from 180deg at 50% 20%, transparent 30%, rgba(201, 168, 76, 0.04) 40%, rgba(201, 168, 76, 0.08) 50%, rgba(201, 168, 76, 0.04) 60%, transparent 70%),
                radial-gradient(ellipse 700px 550px at 50% 22%, rgba(201, 168, 76, 0.1) 0%, transparent 100%),
                radial-gradient(ellipse 500px 200px at 50% 85%, rgba(92, 26, 26, 0.12) 0%, transparent 100%),
                radial-gradient(ellipse at center, transparent 30%, rgba(8, 5, 3, 0.9) 100%),
                linear-gradient(175deg, var(--bg-dark) 0%, #1a150f 35%, var(--bg-medium) 65%, var(--bg-dark) 100%);
        }

        .hero::before {
            content: ''; position: absolute; top: 16%; left: 50%; width: 420px; height: 420px;
            border: 1px solid rgba(201, 168, 76, 0.06); border-top-color: rgba(201, 168, 76, 0.2);
            border-right-color: rgba(201, 168, 76, 0.12); border-radius: 50%; pointer-events: none;
            animation: rotateRing 40s linear infinite;
        }
        .hero::after {
            content: ''; position: absolute; top: calc(16% + 55px); left: 50%; width: 310px; height: 310px;
            border: 1px dashed rgba(201, 168, 76, 0.07); border-bottom-color: rgba(201, 168, 76, 0.18);
            border-left-color: rgba(201, 168, 76, 0.1); border-radius: 50%; pointer-events: none;
            animation: rotateRing 30s linear infinite reverse;
        }

        .hero-ornament { font-size: 2rem; color: var(--gold); margin-bottom: 1.8rem; opacity: 0.55; letter-spacing: 14px; animation: fadeIn 2s ease forwards, candleGlow 4s ease-in-out infinite; position: relative; z-index: 2; }
        .hero h1 {
            font-family: 'Playfair Display', serif; font-size: clamp(2.4rem, 6vw, 4.8rem); font-weight: 900;
            background: linear-gradient(135deg, var(--gold-dark) 0%, var(--gold-light) 25%, #fff8e7 50%, var(--gold-light) 75%, var(--gold-dark) 100%);
            background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            background-clip: text; letter-spacing: 3px; margin-bottom: 0.6rem;
            animation: fadeInUp 1.2s var(--ease-smooth) forwards, shimmer 6s ease-in-out infinite;
            filter: drop-shadow(0 0 25px rgba(201, 168, 76, 0.2)); position: relative; z-index: 2;
        }
        .hero-subtitle { font-family: 'Playfair Display', serif; font-size: clamp(1rem, 2.5vw, 1.45rem); color: var(--text-muted); font-style: italic; letter-spacing: 1px; margin-bottom: 0.8rem; animation: fadeInUp 1.2s 0.15s var(--ease-smooth) both; position: relative; z-index: 2; }
        .hero-years { font-family: 'Playfair Display', serif; font-size: clamp(1.1rem, 2vw, 1.35rem); color: var(--gold-dark); letter-spacing: 10px; margin-bottom: 2.8rem; animation: fadeInUp 1.2s 0.3s var(--ease-smooth) both; position: relative; z-index: 2; }
        .hero-quote {
            max-width: 700px; font-family: 'Playfair Display', serif; font-size: clamp(1rem, 1.8vw, 1.25rem);
            font-style: italic; color: var(--text-muted); border-left: 3px solid var(--gold-dark);
            padding: 1.4rem 2rem; margin: 0 auto 3.5rem; background: rgba(201, 168, 76, 0.03);
            backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); border-radius: 0 4px 4px 0;
            box-shadow: inset 0 0 30px rgba(201, 168, 76, 0.02), 0 4px 20px rgba(0, 0, 0, 0.15);
            animation: fadeInUp 1.2s 0.5s var(--ease-smooth) both; position: relative; z-index: 2;
        }
        .hero-quote cite { display: block; margin-top: 0.8rem; font-style: normal; font-size: 0.9rem; color: var(--gold-dark); letter-spacing: 2px; }
        .scroll-hint { position: absolute; bottom: 2.5rem; left: 50%; transform: translateX(-50%); display: flex; flex-direction: column; align-items: center; gap: 0.6rem; animation: fadeIn 1.5s 1.2s ease both; }
        .scroll-hint span { font-family: 'Nunito Sans', sans-serif; font-size: 0.7rem; color: var(--text-dim); letter-spacing: 4px; text-transform: uppercase; }
        .scroll-arrow { width: 18px; height: 18px; border-right: 2px solid var(--gold-dark); border-bottom: 2px solid var(--gold-dark); transform: rotate(45deg); animation: floatSoft 2s ease-in-out infinite; }

        /* =============================================================
           VII. ОБЩИЕ СТИЛИ СЕКЦИЙ
           ============================================================= */
        section { position: relative; z-index: 1; padding: 6rem 2rem; }
        .section-header { text-align: center; margin-bottom: 4rem; }
        .section-title { font-family: 'Playfair Display', serif; font-size: clamp(1.8rem, 4vw, 2.8rem); color: var(--gold); letter-spacing: 4px; margin-bottom: 1rem; }
        .section-subtitle { font-family: 'Nunito Sans', sans-serif; font-size: 0.85rem; color: var(--text-dim); letter-spacing: 5px; text-transform: uppercase; }
        .section-divider { width: 120px; height: 2px; background: linear-gradient(90deg, transparent, var(--gold), transparent); margin: 1.2rem auto 0; position: relative; }
        .section-divider::before { content: ''; position: absolute; top: 50%; left: 50%; width: 8px; height: 8px; background: var(--gold); transform: translate(-50%, -50%) rotate(45deg); box-shadow: 0 0 12px var(--gold-glow); }
        .section-divider::after { content: ''; position: absolute; top: 50%; width: 4px; height: 4px; background: var(--gold-dark); border-radius: 50%; box-shadow: 35px 0 0 var(--gold-dark), -35px 0 0 var(--gold-dark); left: calc(50% - 2px); transform: translateY(-50%); }

        /* =============================================================
           VIII. ЛЕНТА ВРЕМЕНИ
           ============================================================= */
        .timeline-section {
            padding: 6rem 1rem 5rem; overflow: hidden;
            background: radial-gradient(ellipse 800px 400px at 50% 50%, rgba(201, 168, 76, 0.04) 0%, transparent 100%),
                        radial-gradient(ellipse at 0% 50%, rgba(92, 26, 26, 0.06) 0%, transparent 50%),
                        radial-gradient(ellipse at 100% 50%, rgba(92, 26, 26, 0.06) 0%, transparent 50%), var(--bg-deep);
        }
        .timeline-scroll-hint { display: none; text-align: center; color: var(--text-dim); font-family: 'Nunito Sans', sans-serif; font-size: 0.78rem; letter-spacing: 3px; text-transform: uppercase; margin-bottom: 1rem; }
        .timeline-container { position: relative; max-width: 1200px; margin: 0 auto; padding: 7rem 3rem; }
        .timeline-arrow {
            position: absolute; top: 50%; left: 0; transform: translateY(-50%); width: 100%; height: 6px;
            background: linear-gradient(90deg, rgba(201, 168, 76, 0.05), var(--gold) 15%, var(--gold) 90%, var(--gold-light));
            z-index: 1; animation: drawArrow 1.5s var(--ease-smooth) forwards;
            box-shadow: 0 0 15px rgba(201, 168, 76, 0.2), 0 0 40px rgba(201, 168, 76, 0.08); border-radius: 3px;
        }
        .timeline-arrow::after { content: ''; position: absolute; right: -2px; top: 50%; transform: translateY(-50%); border-top: 20px solid transparent; border-bottom: 20px solid transparent; border-left: 34px solid var(--gold); filter: drop-shadow(0 0 10px var(--gold-glow)); }
        .timeline-arrow::before { content: ''; position: absolute; left: 0; top: 50%; transform: translateY(-50%); width: 14px; height: 14px; background: var(--gold-dark); border-radius: 50%; opacity: 0.6; }

        .timeline-events { position: relative; display: flex; justify-content: space-between; align-items: center; min-height: 340px; z-index: 2; }
        .timeline-event { position: relative; display: flex; flex-direction: column; align-items: center; cursor: pointer; flex: 1; min-width: 100px; opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease, transform 0.6s ease; }
        .timeline-event.revealed { opacity: 1; transform: translateY(0); }
        .event-dot { width: 22px; height: 22px; background: var(--bg-deep); border: 3px solid var(--gold); border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 5; transition: all 0.4s var(--ease-smooth); box-shadow: 0 0 0 4px rgba(201, 168, 76, 0.08); }
        .timeline-event:hover .event-dot, .timeline-event.active .event-dot { background: var(--gold); transform: translate(-50%, -50%) scale(1.3); box-shadow: 0 0 30px var(--gold-glow), 0 0 0 6px rgba(201, 168, 76, 0.1); animation: dotPulse 2s ease-in-out infinite; }

        .event-year { font-family: 'Playfair Display', serif; font-size: 1.6rem; font-weight: 900; color: var(--gold-light); position: absolute; left: 50%; transform: translateX(-50%); white-space: nowrap; transition: all var(--tr-fast); }
        .timeline-event:nth-child(odd) .event-year { bottom: calc(50% + 35px); }
        .timeline-event:nth-child(even) .event-year { top: calc(50% + 35px); }
        .event-label { font-family: 'Nunito Sans', sans-serif; font-size: 0.78rem; font-weight: 600; color: var(--text-dim); text-align: center; text-transform: uppercase; letter-spacing: 1.5px; position: absolute; left: 50%; transform: translateX(-50%); white-space: nowrap; transition: color var(--tr-fast); }
        .timeline-event:nth-child(odd) .event-label { bottom: calc(50% + 65px); }
        .timeline-event:nth-child(even) .event-label { top: calc(50% + 65px); }
        .event-connector { position: absolute; left: 50%; width: 1px; background: linear-gradient(to bottom, var(--gold), rgba(201, 168, 76, 0.15)); z-index: 3; transition: height var(--tr-fast); }
        .timeline-event:nth-child(odd) .event-connector { bottom: 50%; height: 32px; }
        .timeline-event:nth-child(even) .event-connector { top: 50%; height: 32px; }

        .timeline-event:hover .event-year { color: var(--text-bright); text-shadow: 0 0 20px var(--gold-glow); }
        .timeline-event:hover .event-label { color: var(--gold-light); }
        .timeline-event:nth-child(odd):hover .event-dot { transform: translate(-50%, calc(-50% - 3px)) scale(1.25); }
        .timeline-event:nth-child(even):hover .event-dot { transform: translate(-50%, calc(-50% + 3px)) scale(1.25); }

        /* =============================================================
           IX. ВСПЛЫВАЮЩИЙ БЛОК СОБЫТИЯ
           ============================================================= */
        .event-overlay { position: fixed; inset: 0; background: rgba(8, 6, 4, 0.88); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); z-index: 2000; display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.5s ease-in-out; }
        .event-overlay.visible { opacity: 1; pointer-events: all; }
        .event-card {
            background: linear-gradient(145deg, var(--bg-card) 0%, var(--bg-medium) 100%);
            border: 1px solid rgba(201, 168, 76, 0.25); border-radius: 6px; padding: 3rem 3rem 2.5rem;
            max-width: 620px; width: 92%; position: relative; transform: translateY(40px) scale(0.94);
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.55), 0 0 60px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(201, 168, 76, 0.08);
            transition: transform 0.5s var(--ease-smooth), box-shadow 0.5s ease;
        }
        .event-overlay.visible .event-card { transform: translateY(0) scale(1); box-shadow: 0 50px 120px rgba(0, 0, 0, 0.7), 0 0 100px rgba(0, 0, 0, 0.4), 0 0 60px rgba(201, 168, 76, 0.08), 0 0 1px rgba(201, 168, 76, 0.3), inset 0 1px 0 rgba(201, 168, 76, 0.15); }
        .event-card::before { content: '✦'; position: absolute; top: -18px; left: 50%; transform: translateX(-50%); font-size: 1.4rem; color: var(--gold); text-shadow: 0 0 15px var(--gold-glow); }
        .event-card::after { content: ''; position: absolute; bottom: 0; right: 0; width: 50px; height: 50px; border-bottom: 2px solid rgba(201, 168, 76, 0.2); border-right: 2px solid rgba(201, 168, 76, 0.2); border-radius: 0 0 6px 0; pointer-events: none; }
        .event-card .corner-tl { position: absolute; top: 0; left: 0; width: 50px; height: 50px; border-top: 2px solid rgba(201, 168, 76, 0.2); border-left: 2px solid rgba(201, 168, 76, 0.2); border-radius: 6px 0 0 0; pointer-events: none; }
        .event-card .card-year { font-family: 'Playfair Display', serif; font-size: 3.2rem; font-weight: 900; color: var(--gold); text-align: center; margin-bottom: 0.3rem; text-shadow: 0 0 30px rgba(201, 168, 76, 0.2); }
        .event-card .card-title { font-family: 'Playfair Display', serif; font-size: 1.3rem; color: var(--gold-light); text-align: center; margin-bottom: 1.8rem; letter-spacing: 1px; }
        .event-card .card-text { font-family: 'Cormorant Garamond', serif; font-size: 1.1rem; color: var(--text-light); line-height: 1.85; text-align: justify; }
        .close-btn { position: absolute; top: 0.8rem; right: 1rem; font-size: 2rem; color: var(--text-dim); cursor: pointer; background: none; border: none; font-family: inherit; line-height: 1; transition: color var(--tr-fast), transform var(--tr-fast); }
        .close-btn:hover { color: var(--gold); transform: rotate(90deg); }

        /* =============================================================
           X. БИОГРАФИЧЕСКИЙ МОДУЛЬ
           ============================================================= */
        .bio-section { background: radial-gradient(ellipse at 25% 50%, rgba(201, 168, 76, 0.03), transparent 60%), radial-gradient(ellipse at 75% 60%, rgba(92, 26, 26, 0.04), transparent 50%), var(--bg-deep); }
        .bio-container { max-width: 900px; margin: 0 auto; position: relative; padding: 2rem; border: 1px solid rgba(201, 168, 76, 0.06); border-radius: 4px; }
        .bio-container::before, .bio-container::after { content: ''; position: absolute; width: 40px; height: 40px; border-color: rgba(201, 168, 76, 0.15); border-style: solid; transition: all 0.5s ease; }
        .bio-container::before { top: -1px; left: -1px; border-width: 1px 0 0 1px; border-radius: 4px 0 0 0; }
        .bio-container::after { bottom: -1px; right: -1px; border-width: 0 1px 1px 0; border-radius: 0 0 4px 0; }

        .bio-tabs { display: flex; justify-content: center; gap: 0; margin-bottom: 3rem; }
        .bio-tabs button { font-family: 'Playfair Display', serif; font-size: 0.95rem; font-weight: 700; padding: 0.85rem 2.5rem; border: 1px solid var(--gold-dark); background: transparent; color: var(--text-muted); cursor: pointer; letter-spacing: 2px; text-transform: uppercase; transition: all 0.4s ease; }
        .bio-tabs button:first-child { border-radius: 4px 0 0 4px; }
        .bio-tabs button:last-child { border-radius: 0 4px 4px 0; border-left: none; }
        .bio-tabs button.active { background: linear-gradient(135deg, var(--gold), var(--gold-light)); color: var(--bg-deep); border-color: var(--gold); box-shadow: 0 0 25px rgba(201, 168, 76, 0.25), 0 4px 15px rgba(0, 0, 0, 0.3); text-shadow: 0 1px 2px rgba(0, 0, 0, 0.15); }
        .bio-tabs button:hover:not(.active) { background: rgba(201, 168, 76, 0.08); color: var(--gold-light); }

        .bio-content { position: relative; min-height: 250px; }
        .bio-panel { opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease-in-out, transform 0.6s ease-in-out; position: absolute; top: 0; left: 0; width: 100%; pointer-events: none; }
        .bio-panel.visible { opacity: 1; transform: translateY(0); pointer-events: all; position: relative; }
        .bio-panel p { font-size: 1.1rem; margin-bottom: 1.4rem; text-align: justify; text-indent: 2em; }
        .bio-panel p:first-of-type::first-letter { font-family: 'Playfair Display', serif; font-size: 3.4rem; font-weight: 900; color: var(--gold); float: left; line-height: 0.82; margin-right: 0.25rem; margin-top: 0.12rem; text-shadow: 0 2px 12px rgba(201, 168, 76, 0.2); }

        /* Эффект печати */
        .typewriter-line { display: inline-block; overflow: hidden; white-space: nowrap; border-right: 2px solid var(--gold); animation: quillBlink 0.9s step-end infinite; max-width: 0; transition: max-width 2.5s steps(40, end); }
        .typewriter-line.typing { max-width: 100%; }

        /* =============================================================
           XII. ПРОИЗВЕДЕНИЯ — КАРТОЧКИ
           ============================================================= */
        .works-section { background: radial-gradient(ellipse at 75% 50%, rgba(201, 168, 76, 0.03), transparent 60%), var(--bg-deep); }
        .works-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; max-width: 1100px; margin: 0 auto; }
        .work-card { position: relative; background: linear-gradient(145deg, var(--bg-card), var(--bg-medium)); border: 1px solid rgba(201, 168, 76, 0.12); border-radius: 6px; padding: 2.5rem 2rem 2rem; overflow: hidden; transition: transform 0.5s var(--ease-smooth), border-color 0.5s ease, box-shadow 0.5s ease, filter 0.5s ease; transform-style: preserve-3d; perspective: 800px; }
        .work-card::before { content: ''; position: absolute; top: 50%; left: 50%; width: 350%; height: 350%; background: radial-gradient(circle, rgba(201, 168, 76, 0.05) 0%, rgba(92, 26, 26, 0.04) 30%, transparent 65%); transform: translate(-50%, -50%) scale(0); transition: transform 0.7s ease; border-radius: 50%; pointer-events: none; }
        .work-card:hover::before { transform: translate(-50%, -50%) scale(1); }
        .work-card:hover { transform: translateY(-10px) rotateX(2deg) rotateY(-2deg); border-color: rgba(201, 168, 76, 0.45); box-shadow: 0 25px 60px rgba(0, 0, 0, 0.45), 0 0 50px rgba(201, 168, 76, 0.08), inset 0 0 30px rgba(201, 168, 76, 0.02); filter: sepia(0.06) brightness(1.05); }
        .work-card .work-year { font-family: 'Nunito Sans', sans-serif; font-size: 0.78rem; font-weight: 600; color: var(--gold-dark); letter-spacing: 4px; text-transform: uppercase; margin-bottom: 0.8rem; }
        .work-card h3 { font-family: 'Playfair Display', serif; font-size: 1.45rem; color: var(--gold); margin-bottom: 1rem; line-height: 1.3; transition: text-shadow var(--tr-fast); }
        .work-card:hover h3 { text-shadow: 0 0 12px rgba(201, 168, 76, 0.2); }
        .work-card p { font-family: 'Nunito Sans', sans-serif; font-size: 0.95rem; font-weight: 300; color: var(--text-muted); line-height: 1.75; }
        .work-card::after { content: ''; position: absolute; top: 0; right: 0; width: 50px; height: 50px; border-top: 2px solid rgba(201, 168, 76, 0.15); border-right: 2px solid rgba(201, 168, 76, 0.15); opacity: 0.4; transition: opacity 0.5s ease, width 0.5s ease, height 0.5s ease, border-color 0.5s ease; pointer-events: none; border-radius: 0 6px 0 0; }
        .work-card:hover::after { opacity: 1; width: 65px; height: 65px; border-color: rgba(201, 168, 76, 0.4); }
        .work-card .corner-bl { position: absolute; bottom: 0; left: 0; width: 50px; height: 50px; border-bottom: 2px solid rgba(201, 168, 76, 0.15); border-left: 2px solid rgba(201, 168, 76, 0.15); opacity: 0.4; transition: opacity 0.5s ease, width 0.5s ease, height 0.5s ease, border-color 0.5s ease; pointer-events: none; border-radius: 0 0 0 6px; }
        .work-card:hover .corner-bl { opacity: 1; width: 65px; height: 65px; border-color: rgba(201, 168, 76, 0.4); }
        .ink-overlay { position: absolute; inset: 0; background: repeating-linear-gradient(0deg, transparent, transparent 3px, rgba(201, 168, 76, 0.012) 3px, rgba(201, 168, 76, 0.012) 4px); pointer-events: none; opacity: 0; transition: opacity 0.5s ease; }
        .work-card:hover .ink-overlay { opacity: 1; }

        /* =============================================================
           XIII. ЦИТАТЫ — КАРУСЕЛЬ
           ============================================================= */
        .quotes-section { background: radial-gradient(ellipse 500px 300px at 50% 50%, rgba(201, 168, 76, 0.05) 0%, transparent 100%), linear-gradient(180deg, var(--bg-deep), var(--bg-medium), var(--bg-deep)); text-align: center; padding: 6rem 2rem; }
        .quotes-carousel { max-width: 780px; margin: 0 auto; position: relative; min-height: 220px; }
        .quote-slide { position: absolute; inset: 0; opacity: 0; transition: opacity 1s ease; pointer-events: none; display: flex; flex-direction: column; justify-content: center; }
        .quote-slide.active { opacity: 1; pointer-events: all; }
        .quote-slide blockquote { font-family: 'Playfair Display', serif; font-size: clamp(1.05rem, 2.5vw, 1.5rem); font-style: italic; color: var(--text-light); line-height: 1.85; padding: 2rem 3rem; position: relative; border: 1px solid rgba(201, 168, 76, 0.08); border-radius: 4px; background: radial-gradient(ellipse at 50% 50%, rgba(201, 168, 76, 0.02), transparent 70%); }
        .quote-slide blockquote::before { content: '\201C'; font-size: 6rem; color: var(--gold); opacity: 0.18; position: absolute; top: -20px; left: 10px; font-family: 'Playfair Display', serif; line-height: 1; text-shadow: 0 0 30px rgba(201, 168, 76, 0.15); }
        .quote-slide blockquote::after { content: '\201D'; font-size: 6rem; color: var(--gold); opacity: 0.12; position: absolute; bottom: -35px; right: 10px; font-family: 'Playfair Display', serif; line-height: 1; }
        .quote-slide cite { display: block; margin-top: 1.2rem; font-family: 'Nunito Sans', sans-serif; font-size: 0.85rem; color: var(--gold-dark); font-style: normal; letter-spacing: 3px; text-transform: uppercase; }
        .quote-nav { display: flex; justify-content: center; gap: 0.9rem; margin-top: 2.5rem; }
        .quote-nav button { width: 10px; height: 10px; border-radius: 50%; border: 1px solid var(--gold-dark); background: transparent; cursor: pointer; transition: all var(--tr-fast); }
        .quote-nav button.active { background: var(--gold); border-color: var(--gold); box-shadow: 0 0 12px rgba(201, 168, 76, 0.3); }
        .quote-nav button:hover:not(.active) { background: rgba(201, 168, 76, 0.3); }

        /* =============================================================
           XIV. НАСЛЕДИЕ
           ============================================================= */
        .legacy-section { background: var(--bg-deep); text-align: center; }
        .legacy-body { max-width: 800px; margin: 0 auto; }
        .legacy-body p { font-size: 1.12rem; line-height: 1.9; margin-bottom: 1.4rem; }
        .hl { color: var(--gold); font-weight: 700; position: relative; text-shadow: 0 0 15px rgba(201, 168, 76, 0.25); }
        .hl::after { content: ''; position: absolute; bottom: -2px; left: 0; width: 100%; height: 1px; background: linear-gradient(90deg, var(--gold), transparent); opacity: 0.4; }

        /* =============================================================
           XV. ПОДВАЛ (FOOTER)
           ============================================================= */
        footer { text-align: center; padding: 4rem 2rem 3rem; border-top: none; background: linear-gradient(180deg, rgba(201, 168, 76, 0.15) 0%, rgba(201, 168, 76, 0.03) 2px, transparent 2px), radial-gradient(ellipse 600px 150px at 50% 0%, rgba(201, 168, 76, 0.04) 0%, transparent 100%), var(--bg-deep); position: relative; }
        footer::before { content: ''; position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 200px; height: 1px; background: linear-gradient(90deg, transparent, var(--gold-dark), transparent); }
        footer::after { content: ''; position: absolute; top: -4px; left: 50%; transform: translateX(-50%) rotate(45deg); width: 8px; height: 8px; background: var(--gold-dark); box-shadow: 0 0 10px rgba(201, 168, 76, 0.3); }
        .footer-ornament { color: var(--gold); font-size: 1.2rem; letter-spacing: 14px; margin-bottom: 1.5rem; opacity: 0.5; text-shadow: 0 0 15px rgba(201, 168, 76, 0.25); animation: scalePulse 4s ease-in-out infinite; }
        footer p { font-family: 'Nunito Sans', sans-serif; color: var(--text-dim); font-size: 0.85rem; letter-spacing: 1px; }
        footer .footer-quote { font-family: 'Playfair Display', serif; font-style: italic; font-size: 1.05rem; color: var(--text-muted); opacity: 0.55; margin-top: 1.2rem; max-width: 500px; margin-left: auto; margin-right: auto; line-height: 1.7; position: relative; }
        footer .footer-quote::before { content: ''; display: block; width: 60px; height: 1px; background: linear-gradient(90deg, transparent, rgba(201, 168, 76, 0.25), transparent); margin: 0 auto 1rem; }

        /* =============================================================
           XVI. СКРОЛЛ-АНИМАЦИЯ И ЧЕРНИЛЬНЫЕ ПЯТНА
           ============================================================= */
        .scroll-reveal { opacity: 0; transform: translateY(50px); filter: blur(4px); transition: opacity 0.9s var(--ease-smooth), transform 0.9s var(--ease-smooth), filter 0.9s var(--ease-smooth); }
        .scroll-reveal.revealed { opacity: 1; transform: translateY(0); filter: blur(0); }
        .scroll-reveal.delay-1 { transition-delay: 0.1s; } .scroll-reveal.delay-2 { transition-delay: 0.2s; } .scroll-reveal.delay-3 { transition-delay: 0.3s; } .scroll-reveal.delay-4 { transition-delay: 0.4s; }
        .ink-spot { position: absolute; border-radius: 50%; background: radial-gradient(circle, rgba(13, 10, 7, 0.25) 0%, transparent 70%); pointer-events: none; animation: inkSpread 1s ease forwards; }

        /* =============================================================
           XVII. АДАПТИВНОСТЬ
           ============================================================= */
        @media (max-width: 960px) {
            .timeline-scroll-hint { display: block; }
            .timeline-container { overflow-x: auto; -webkit-overflow-scrolling: touch; padding: 5rem 2rem; }
            .timeline-events { min-width: 1000px; /* Увеличено для 9 дат */ }
        }

        @media (max-width: 640px) {
            .burger { display: flex; }
            .nav-links { position: fixed; top: 0; right: -100%; width: 72%; max-width: 300px; height: 100vh; background: rgba(14, 11, 8, 0.98); flex-direction: column; justify-content: center; align-items: center; gap: 2.5rem; transition: right 0.4s ease; border-left: 1px solid rgba(201, 168, 76, 0.15); }
            .nav-links.open { right: 0; }
            .nav-links a { font-size: 1.1rem; }
            .timeline-scroll-hint { display: none; }
            .timeline-container { overflow: visible; padding: 2rem 0.5rem; }
            .timeline-arrow { display: none; }
            .timeline-events { flex-direction: column; align-items: stretch; min-width: auto; min-height: auto; gap: 0; position: relative; padding-left: 40px; }
            .timeline-events::before { content: ''; position: absolute; top: 0; left: 20px; width: 3px; height: 100%; background: linear-gradient(to bottom, rgba(201, 168, 76, 0.1), var(--gold) 10%, var(--gold) 90%, rgba(201, 168, 76, 0.1)); }
            .timeline-events::after { content: ''; position: absolute; bottom: -14px; left: 12px; border-left: 10px solid transparent; border-right: 10px solid transparent; border-top: 18px solid var(--gold); }
            .timeline-event { position: relative; padding: 1.2rem 0 1.2rem 2rem; min-width: auto; }
            .event-dot { position: absolute; top: 50%; left: -28px; transform: translateY(-50%); width: 16px; height: 16px; }
            .timeline-event:hover .event-dot, .timeline-event.active .event-dot { transform: translateY(-50%) scale(1.3); }
            .timeline-event:nth-child(odd):hover .event-dot, .timeline-event:nth-child(even):hover .event-dot { transform: translateY(-50%) scale(1.3); }
            .event-year, .timeline-event:nth-child(odd) .event-year, .timeline-event:nth-child(even) .event-year { position: static; transform: none; font-size: 1.4rem; display: block; text-align: left; top: auto; bottom: auto; }
            .event-label, .timeline-event:nth-child(odd) .event-label, .timeline-event:nth-child(even) .event-label { position: static; transform: none; white-space: normal; text-align: left; display: block; margin-top: 0.2rem; top: auto; bottom: auto; }
            .event-connector { display: none; }
            section { padding: 4rem 1.2rem; }
            .works-grid { grid-template-columns: 1fr; }
            .bio-tabs button { padding: 0.65rem 1.4rem; font-size: 0.85rem; }
            .event-card { padding: 2rem 1.5rem; }
            .event-card .card-year { font-size: 2.4rem; }
        }

        @media (max-width: 400px) {
            .hero h1 { letter-spacing: 1px; }
            .hero-quote { padding: 0.8rem 1rem; }
        }
    </style>
</head>

<body>
    <nav id="navbar">
        <div class="nav-logo">Достоевский</div>
        <ul class="nav-links" id="navLinks">
            <li><a href="#hero"      onclick="closeMobile()">Главная</a></li>
            <li><a href="#timeline"  onclick="closeMobile()">Хронология</a></li>
            <li><a href="#biography" onclick="closeMobile()">Биография</a></li>
            <li><a href="#works"     onclick="closeMobile()">Произведения</a></li>
            <li>
                <button class="mode-toggle" id="globalModeToggle">Краткий текст</button>
            </li>
        </ul>
        <div class="burger" id="burger" onclick="toggleMobile()">
            <span></span><span></span><span></span>
        </div>
    </nav>

    <section class="hero" id="hero">
        <div class="hero-ornament" aria-hidden="true">&#10053;&ensp;&#10053;&ensp;&#10053;</div>
        <h1>Фёдор Михайлович<br>Достоевский</h1>
        <p class="hero-subtitle">Великий русский писатель, мыслитель, философ</p>
        <p class="hero-years">1821 &mdash; 1881</p>

        <div class="hero-quote">
            &laquo;<span class="typewriter-line" id="heroTypewriter">Красота спасёт мир.</span>&raquo;
            <cite>&mdash; &laquo;Идиот&raquo;, 1868</cite>
        </div>

        <div class="scroll-hint">
            <span>Листайте вниз</span>
            <div class="scroll-arrow"></div>
        </div>
    </section>

    <section class="timeline-section" id="timeline">
        <div class="section-header scroll-reveal">
            <p class="section-subtitle">Путь великого писателя</p>
            <h2 class="section-title">Хронология жизни</h2>
            <div class="section-divider"></div>
        </div>

        <p class="timeline-scroll-hint scroll-reveal">&#8592; прокрутите &#8594;</p>

        <div class="timeline-container">
            <div class="timeline-arrow"></div>

            <div class="timeline-events" id="timelineEvents">
                <div class="timeline-event" data-event="birth">
                    <span class="event-label">Рождение</span>
                    <span class="event-year">1821</span>
                    <div class="event-connector"></div>
                    <div class="event-dot"></div>
                </div>

                <div class="timeline-event" data-event="studies">
                    <span class="event-label">Учёба</span>
                    <span class="event-year">1838</span>
                    <div class="event-connector"></div>
                    <div class="event-dot"></div>
                </div>

                <div class="timeline-event" data-event="poor-folk">
                    <span class="event-label">Бедные люди</span>
                    <span class="event-year">1846</span>
                    <div class="event-connector"></div>
                    <div class="event-dot"></div>
                </div>

                <div class="timeline-event" data-event="arrest">
                    <span class="event-label">Арест</span>
                    <span class="event-year">1849</span>
                    <div class="event-connector"></div>
                    <div class="event-dot"></div>
                </div>

                <div class="timeline-event" data-event="crime">
                    <span class="event-label">Великий роман</span>
                    <span class="event-year">1866</span>
                    <div class="event-connector"></div>
                    <div class="event-dot"></div>
                </div>

                <div class="timeline-event" data-event="marriage">
                    <span class="event-label">Женитьба</span>
                    <span class="event-year">1867</span>
                    <div class="event-connector"></div>
                    <div class="event-dot"></div>
                </div>

                <div class="timeline-event" data-event="idiot">
                    <span class="event-label">Роман «Идиот»</span>
                    <span class="event-year">1868</span>
                    <div class="event-connector"></div>
                    <div class="event-dot"></div>
                </div>

                <div class="timeline-event" data-event="karamazov">
                    <span class="event-label">Братья Карамазовы</span>
                    <span class="event-year">1880</span>
                    <div class="event-connector"></div>
                    <div class="event-dot"></div>
                </div>

                <div class="timeline-event" data-event="death">
                    <span class="event-label">Смерть</span>
                    <span class="event-year">1881</span>
                    <div class="event-connector"></div>
                    <div class="event-dot"></div>
                </div>
            </div>
        </div>
    </section>

    <div class="event-overlay" id="eventOverlay">
        <div class="event-card" id="eventCard">
            <div class="corner-tl"></div>
            <button class="close-btn" aria-label="Закрыть">&times;</button>
            <div class="card-year"  id="cardYear"></div>
            <div class="card-title" id="cardTitle"></div>
            <div class="card-text"  id="cardText"></div>
        </div>
    </div>

    <section class="bio-section" id="biography">
        <div class="section-header scroll-reveal">
            <p class="section-subtitle">Жизненный путь</p>
            <h2 class="section-title">Биография</h2>
            <div class="section-divider"></div>
        </div>

        <div class="bio-container scroll-reveal">
            
            <div class="full-text">
                <div class="bio-tabs" role="tablist">
                    <button class="active" role="tab" aria-selected="true" onclick="switchBio('summary')">Сводка</button>
                    <button role="tab" aria-selected="false" onclick="switchBio('chronicle')">Хроника</button>
                </div>

                <div class="bio-content">
                    <div class="bio-panel visible" id="bioSummary">
                        <p>Фёдор Михайлович Достоевский родился 30 октября (11 ноября) 1821 года в Москве, в семье штаб-лекаря Мариинской больницы для бедных. С ранних лет он проявлял глубокий интерес к литературе и тягу к познанию человеческой души. Его первый роман &laquo;Бедные люди&raquo; (1846) принёс ему мгновенную славу в литературных кругах Петербурга.</p>
                        <p>Жизнь писателя была наполнена серьёзными испытаниями: арест по делу петрашевцев, инсценировка расстрела, четыре года каторги в Сибири. Однако именно эти переживания закалили его дух и легли в основу величайших произведений мировой литературы &mdash; &laquo;Преступления и наказания&raquo;, &laquo;Идиота&raquo;, &laquo;Братьев Карамазовых&raquo;.</p>
                        <p>Скончался Фёдор Михайлович 28 января (9 февраля) 1881 года в Санкт-Петербурге. Его похороны стали событием общенационального масштаба: проводить писателя в последний путь пришли десятки тысяч людей.</p>
                    </div>

                    <div class="bio-panel" id="bioChronicle">
                        <p>Фёдор Михайлович Достоевский родился 30 октября (11 ноября по новому стилю) 1821 года в Москве, в семье Михаила Андреевича Достоевского, штаб-лекаря Мариинской больницы для бедных. Детство будущего писателя прошло в атмосфере строгого воспитания, но в доме царила искренняя любовь к чтению.</p>
                        <p>В 1838 году Достоевский поступил в Главное инженерное училище в Петербурге. Однако техническая карьера его не привлекала &mdash; душа стремилась к словесности. После окончания училища в 1843 году он полностью посвятил себя литературному труду.</p>
                        <p>В 1846 году вышел его первый роман &laquo;Бедные люди&raquo;. Влиятельный критик Виссарион Белинский, прочитав рукопись, восторженно объявил: &laquo;Новый Гоголь явился!&raquo;</p>
                        <p>Трагический перелом наступил в 1849 году. Достоевский был арестован за участие в кружке Петрашевского. 22 декабря 1849 года он пережил инсценировку смертной казни на Семёновском плацу. Четыре года каторжных работ в Омском остроге навсегда изменили мировоззрение писателя.</p>
                        <p>Вернувшись к литературной деятельности, Достоевский создал ряд произведений, ставших вершинами мировой прозы. В 1866 году был опубликован роман &laquo;Преступление и наказание&raquo; &mdash; глубочайшее исследование нравственной природы человека.</p>
                        <p>В 1867 году Фёдор Михайлович обрёл личное счастье, женившись на Анне Григорьевне Сниткиной. Она стала не только верной супругой, но и деловым партнёром. В семье родились четверо детей.</p>
                        <p>Последним великим творением стал роман &laquo;Братья Карамазовы&raquo; (1880). Пушкинская речь Достоевского (1880) стала апофеозом его общественной деятельности.</p>
                        <p>Фёдор Михайлович скончался 28 января (9 февраля) 1881 года. На его похороны пришли десятки тысяч человек. Творчество Достоевского оказало колоссальное влияние на мировую культуру.</p>
                    </div>
                </div>
            </div>

            <div class="brief-text">
                <div class="bio-content" style="min-height: auto;">
                    <div class="bio-panel visible" style="position: relative; opacity: 1; transform: none;">
                        <p>Ф.М. Достоевский (1821–1881) — величайший русский писатель и мыслитель. Пережив арест и каторгу, он глубоко познал человеческую природу. Его признанные во всём мире романы («Преступление и наказание», «Идиот», «Братья Карамазовы») исследуют сложнейшие вопросы совести, веры, свободы воли и сострадания.</p>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <section class="works-section" id="works">
        <div class="section-header scroll-reveal">
            <p class="section-subtitle">Литературное наследие</p>
            <h2 class="section-title">Великие произведения</h2>
            <div class="section-divider"></div>
        </div>

        <div class="works-grid">
            <div class="work-card scroll-reveal delay-1">
                <div class="ink-overlay"></div>
                <div class="corner-bl"></div>
                <div class="work-year">1846 год</div>
                <h3>&laquo;Бедные люди&raquo;</h3>
                <p class="full-text">Первый роман Достоевского, написанный в форме переписки мелкого чиновника Макара Девушкина и молодой девушки Вареньки Доброселовой. Произведение, принёсшее автору мгновенную литературную славу и восторженную оценку критики.</p>
                <p class="brief-text">Первый роман в письмах, принёсший автору мгновенную литературную славу и признание критиков.</p>
            </div>

            <div class="work-card scroll-reveal delay-2">
                <div class="ink-overlay"></div>
                <div class="corner-bl"></div>
                <div class="work-year">1866 год</div>
                <h3>&laquo;Преступление и наказание&raquo;</h3>
                <p class="full-text">Один из величайших романов мировой литературы. История студента Раскольникова, его нравственного падения и духовного возрождения. Глубочайшее исследование человеческой совести и границ дозволенного.</p>
                <p class="brief-text">История Раскольникова, глубоко исследующая границы человеческой совести и морали.</p>
            </div>

            <div class="work-card scroll-reveal delay-3">
                <div class="ink-overlay"></div>
                <div class="corner-bl"></div>
                <div class="work-year">1868 год</div>
                <h3>&laquo;Идиот&raquo;</h3>
                <p class="full-text">Роман о князе Мышкине &mdash; &laquo;положительно прекрасном человеке&raquo;, поставленном в центр жестокого мира. Произведение о сострадании, чистоте души и трагическом столкновении идеала с действительностью.</p>
                <p class="brief-text">Трагическая история «положительно прекрасного человека» князя Мышкина в жестоком мире.</p>
            </div>

            <div class="work-card scroll-reveal delay-4">
                <div class="ink-overlay"></div>
                <div class="corner-bl"></div>
                <div class="work-year">1880 год</div>
                <h3>&laquo;Братья Карамазовы&raquo;</h3>
                <p class="full-text">Последний и, возможно, величайший роман Достоевского. Масштабная семейная сага, исследующая вечные вопросы веры, свободы воли, нравственного выбора и смысла человеческого существования.</p>
                <p class="brief-text">Последний роман писателя, масштабная сага о вере, свободе воли и смысле существования.</p>
            </div>
        </div>
    </section>

    <section class="quotes-section" id="quotes">
        <div class="section-header scroll-reveal">
            <p class="section-subtitle">Слово мастера</p>
            <h2 class="section-title">Мудрость Достоевского</h2>
            <div class="section-divider"></div>
        </div>

        <div class="quotes-carousel scroll-reveal">
            <div class="quote-slide active">
                <blockquote>Красота спасёт мир.</blockquote>
                <cite>&mdash; &laquo;Идиот&raquo;</cite>
            </div>
            <div class="quote-slide">
                <blockquote>Душа исцеляется рядом с детьми.</blockquote>
                <cite>&mdash; Из записных книжек</cite>
            </div>
            <div class="quote-slide">
                <blockquote>Надо любить жизнь больше, чем смысл жизни.</blockquote>
                <cite>&mdash; &laquo;Братья Карамазовы&raquo;</cite>
            </div>
            <div class="quote-slide">
                <blockquote>Человек &mdash; это тайна. Её надо разгадать, и ежели будешь её разгадывать всю жизнь, то не говори, что потерял время.</blockquote>
                <cite>&mdash; Из письма брату Михаилу, 1839</cite>
            </div>
            <div class="quote-slide">
                <blockquote>Сострадание есть главнейший и, может быть, единственный закон бытия всего человечества.</blockquote>
                <cite>&mdash; &laquo;Идиот&raquo;</cite>
            </div>
        </div>

        <div class="quote-nav" id="quoteNav"></div>
    </section>

    <section class="legacy-section" id="legacy">
        <div class="section-header scroll-reveal">
            <p class="section-subtitle">Вклад в мировую культуру</p>
            <h2 class="section-title">Наследие</h2>
            <div class="section-divider"></div>
        </div>

        <div class="legacy-body scroll-reveal">
            <div class="full-text">
                <p>Произведения Фёдора Михайловича Достоевского переведены более чем на <span class="hl">170 языков</span> мира. Его идеи повлияли на становление экзистенциализма, психоанализа, современной философии и кинематографа.</p>
                <p>Достоевский признан одним из <span class="hl">величайших романистов</span> в истории мировой литературы. Его произведения изучаются в университетах всех континентов, а герои его романов знакомы миллионам читателей по всему миру.</p>
                <p>Он подарил мировой культуре не просто великие романы, а целую философию &mdash; <span class="hl">философию сострадания</span>, веры в человека и неустанного поиска истины.</p>
            </div>
            <div class="brief-text">
                <p>Его наследие переведено более чем на <span class="hl">170 языков</span>. Достоевский обогатил мировую литературу уникальной <span class="hl">философией сострадания</span> и глубоким психологизмом, оказав огромное влияние на культуру и искусство всего мира.</p>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-ornament" aria-hidden="true">&#10053;&ensp;&#10053;&ensp;&#10053;</div>
        <p style="font-family:'Playfair Display',serif;font-size:1rem;letter-spacing:3px;text-transform:uppercase;color:var(--text-muted);margin-bottom:1.2rem;">Школьный проект &mdash; Жизнь и творчество Ф.М.&nbsp;Достоевского</p>
        <p class="footer-quote">&laquo;Человек есть тайна. Её надо разгадать...&raquo;</p>
    </footer>

    <script>
    (function () {
        'use strict';

        /* =============================================================
           1. ДАННЫЕ СОБЫТИЙ ДЛЯ ЛЕНТЫ ВРЕМЕНИ
           ============================================================= */
        const EVENTS = {
            'birth': {
                year: '1821',
                title: 'Рождение великого писателя',
                textFull: '30 октября (11 ноября по новому стилю) 1821 года в Москве, во флигеле Мариинской больницы для бедных, родился Фёдор Михайлович Достоевский. Его отец, Михаил Андреевич, служил штаб-лекарем. Семья была многодетной и небогатой, но образованной.',
                textBrief: 'В 1821 году в Москве, в семье лекаря Мариинской больницы для бедных, родился будущий великий писатель.'
            },
            'studies': {
                year: '1838',
                title: 'Инженерное училище',
                textFull: 'В 1838 году по настоянию отца Достоевский поступил в Главное инженерное училище в Петербурге. Хотя военная инженерия его тяготила, годы учёбы стали временем глубокого погружения в русскую и европейскую литературу.',
                textBrief: 'Поступил в Инженерное училище в Петербурге, где серьёзно увлёкся чтением и литературным творчеством.'
            },
            'poor-folk': {
                year: '1846',
                title: 'Публикация романа «Бедные люди»',
                textFull: 'В январе 1846 года был опубликован первый роман Достоевского «Бедные люди». Ещё до публикации рукопись прочитал критик В.Г. Белинский и восторженно объявил: «Новый Гоголь явился!» Роман стал литературной сенсацией.',
                textBrief: 'Опубликован первый роман «Бедные люди», который мгновенно прославил молодого автора в Петербурге.'
            },
            'arrest': {
                year: '1849',
                title: 'Арест и испытание',
                textFull: '23 апреля 1849 года Достоевский был арестован за участие в кружке М.В. Петрашевского. 22 декабря была проведена инсценировка смертной казни — приговорённым объявили о замене расстрела каторгой. Четыре года омского острога закалили дух писателя.',
                textBrief: 'За участие в кружке Петрашевского писатель приговорён к каторге после инсценировки смертной казни.'
            },
            'crime': {
                year: '1866',
                title: 'Публикация «Преступления и наказания»',
                textFull: 'В 1866 году был опубликован роман «Преступление и наказание» — одно из величайших произведений мировой литературы. История Родиона Раскольникова стала переворотом в литературе.',
                textBrief: 'Выходит в свет роман «Преступление и наказание» — шедевр психологической прозы, принёсший автору мировую славу.'
            },
            'marriage': {
                year: '1867',
                title: 'Женитьба на Анне Сниткиной',
                textFull: '15 февраля 1867 года Фёдор Михайлович обвенчался с Анной Григорьевной Сниткиной — молодой стенографисткой. Этот брак стал счастливым союзом. Анна Григорьевна взяла на себя все издательские дела, став верной музой писателя.',
                textBrief: 'Брак с Анной Сниткиной, которая стала его верной помощницей, стенографисткой и деловым партнёром.'
            },
            'idiot': {
                year: '1868',
                title: 'Публикация романа «Идиот»',
                textFull: 'Роман писался за границей в сложнейших жизненных обстоятельствах. Достоевский поставил перед собой амбициозную задачу — изобразить «положительно прекрасного человека», князя Льва Мышкина, и его трагическое столкновение с порочным миром.',
                textBrief: 'Опубликован роман «Идиот», исследующий судьбу искреннего и чистого человека в жестоком обществе.'
            },
            'karamazov': {
                year: '1880',
                title: 'Вершина творчества',
                textFull: 'Опубликован итоговый роман писателя «Братья Карамазовы», подводящий черту под его философскими исканиями. В этом же году Достоевский произнёс знаменитую «Пушкинскую речь», вызвавшую небывалый резонанс в обществе.',
                textBrief: 'Выход романа «Братья Карамазовы» и знаменитая речь о Пушкине — апофеоз общественного признания.'
            },
            'death': {
                year: '1881',
                title: 'Смерть писателя',
                textFull: '28 января (9 февраля) 1881 года Фёдор Михайлович Достоевский скончался в Санкт-Петербурге. Похороны на Тихвинском кладбище стали событием общенационального масштаба — проводить его пришли десятки тысяч человек.',
                textBrief: 'Писатель скончался в Петербурге. Его похороны стали масштабным национальным событием.'
            }
        };

        /* =============================================================
           2. ГЛОБАЛЬНЫЙ ПЕРЕКЛЮЧАТЕЛЬ РЕЖИМА ТЕКСТА
           ============================================================= */
        const globalModeToggle = document.getElementById('globalModeToggle');
        
        globalModeToggle.addEventListener('click', function() {
            document.body.classList.toggle('brief-mode');
            const isBrief = document.body.classList.contains('brief-mode');
            
            // Смена текста на кнопке
            globalModeToggle.textContent = isBrief ? 'Полный текст' : 'Краткий текст';
            
            // Если включили краткий режим, сбросим био на первую вкладку
            // (хотя вкладки скрыты, так будет надёжнее для состояния)
            if (isBrief) {
                switchBio('summary');
            }
        });

        /* =============================================================
           3. ПОКАЗ / СКРЫТИЕ ДЕТАЛЕЙ СОБЫТИЯ (Модальное окно)
           ============================================================= */
        const overlay    = document.getElementById('eventOverlay');
        const cardYear   = document.getElementById('cardYear');
        const cardTitle  = document.getElementById('cardTitle');
        const cardText   = document.getElementById('cardText');
        const allEvents  = document.querySelectorAll('.timeline-event');

        document.getElementById('timelineEvents').addEventListener('click', function (e) {
            const eventEl = e.target.closest('.timeline-event');
            if (!eventEl) return;
            const key = eventEl.dataset.event;
            if (!key || !EVENTS[key]) return;
            openEvent(key, eventEl);
        });

        function openEvent(key, eventEl) {
            const data = EVENTS[key];
            cardYear.textContent  = data.year;
            cardTitle.textContent = data.title;
            // Вставляем сразу обе версии текста, CSS скроет ненужную
            cardText.innerHTML  = '<div class="full-text">' + data.textFull + '</div><div class="brief-text">' + data.textBrief + '</div>';

            allEvents.forEach(el => el.classList.remove('active'));
            eventEl.classList.add('active');

            overlay.classList.add('visible');
            document.body.style.overflow = 'hidden';
        }

        function closeOverlay() {
            overlay.classList.remove('visible');
            allEvents.forEach(el => el.classList.remove('active'));
            document.body.style.overflow = '';
        }

        overlay.addEventListener('click', function (e) {
            if (e.target === overlay || e.target.closest('.close-btn')) closeOverlay();
        });

        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape') closeOverlay();
        });

        /* =============================================================
           4. ПЕРЕКЛЮЧАТЕЛЬ БИОГРАФИИ — «Сводка» / «Хроника»
           ============================================================= */
        const bioSummary   = document.getElementById('bioSummary');
        const bioChronicle = document.getElementById('bioChronicle');
        const bioButtons   = document.querySelectorAll('.bio-tabs button');

        window.switchBio = function (mode) {
            bioButtons.forEach(btn => {
                btn.classList.remove('active');
                btn.setAttribute('aria-selected', 'false');
            });

            if (mode === 'summary') {
                bioButtons[0].classList.add('active');
                bioButtons[0].setAttribute('aria-selected', 'true');
                bioChronicle.classList.remove('visible');
                requestAnimationFrame(() => requestAnimationFrame(() => bioSummary.classList.add('visible')));
            } else {
                bioButtons[1].classList.add('active');
                bioButtons[1].setAttribute('aria-selected', 'true');
                bioSummary.classList.remove('visible');
                requestAnimationFrame(() => requestAnimationFrame(() => bioChronicle.classList.add('visible')));
            }
        };

        /* =============================================================
           5. КАРУСЕЛЬ ЦИТАТ — автопрокрутка + ручная навигация
           ============================================================= */
        const slides       = document.querySelectorAll('.quote-slide');
        const navContainer = document.getElementById('quoteNav');
        let currentSlide   = 0;
        let autoplayTimer;

        slides.forEach(function (_, i) {
            const btn = document.createElement('button');
            btn.setAttribute('aria-label', 'Цитата ' + (i + 1));
            if (i === 0) btn.classList.add('active');
            btn.addEventListener('click', function () { goToSlide(i); });
            navContainer.appendChild(btn);
        });

        function goToSlide(index) {
            slides[currentSlide].classList.remove('active');
            navContainer.children[currentSlide].classList.remove('active');
            currentSlide = index;
            slides[currentSlide].classList.add('active');
            navContainer.children[currentSlide].classList.add('active');
            restartAutoplay();
        }

        function nextSlide() { goToSlide((currentSlide + 1) % slides.length); }
        function restartAutoplay() { clearInterval(autoplayTimer); autoplayTimer = setInterval(nextSlide, 6000); }
        restartAutoplay();

        /* =============================================================
           6. НАВИГАЦИЯ — компактность при скролле
           ============================================================= */
        var navbar = document.getElementById('navbar');
        var scrollTicking = false;

        window.addEventListener('scroll', function () {
            if (!scrollTicking) {
                requestAnimationFrame(function () {
                    navbar.classList.toggle('scrolled', window.scrollY > 60);
                    scrollTicking = false;
                });
                scrollTicking = true;
            }
        }, { passive: true });

        /* =============================================================
           7. МОБИЛЬНОЕ МЕНЮ (бургер)
           ============================================================= */
        window.toggleMobile = function () {
            document.getElementById('burger').classList.toggle('active');
            document.getElementById('navLinks').classList.toggle('open');
        };

        window.closeMobile = function () {
            document.getElementById('burger').classList.remove('active');
            document.getElementById('navLinks').classList.remove('open');
        };

        /* =============================================================
           8. INTERSECTION OBSERVER — анимация при скролле
           ============================================================= */
        var revealObserver = new IntersectionObserver(function (entries) {
            entries.forEach(function (entry) {
                if (entry.isIntersecting) {
                    entry.target.classList.add('revealed');
                    revealObserver.unobserve(entry.target);
                }
            });
        }, { rootMargin: '0px', threshold: 0.12 });

        document.querySelectorAll('.scroll-reveal').forEach(function (el) { revealObserver.observe(el); });

        var timelineObserver = new IntersectionObserver(function (entries) {
            entries.forEach(function (entry) {
                if (entry.isIntersecting) {
                    var items = entry.target.querySelectorAll('.timeline-event');
                    items.forEach(function (item, i) {
                        setTimeout(function () { item.classList.add('revealed'); }, 200 + i * 180);
                    });
                    timelineObserver.unobserve(entry.target);
                }
            });
        }, { threshold: 0.15 });

        timelineObserver.observe(document.getElementById('timelineEvents'));

        /* =============================================================
           9. «ЭФФЕКТ ПРИСУТСТВИЯ» И ЧЕРНИЛЬНЫЕ ПЯТНА
           ============================================================= */
        window.addEventListener('load', function () {
            setTimeout(function () { document.getElementById('heroTypewriter').classList.add('typing'); }, 1500);
        });

        document.querySelectorAll('.work-card').forEach(function (card) {
            card.addEventListener('mouseenter', function (e) {
                var rect = card.getBoundingClientRect();
                var spot = document.createElement('div');
                spot.className = 'ink-spot';
                spot.style.cssText = 'left:' + (e.clientX - rect.left) + 'px;top:' + (e.clientY - rect.top) + 'px;width:220px;height:220px;margin-left:-110px;margin-top:-110px;';
                card.appendChild(spot);
                setTimeout(function () { spot.remove(); }, 1050);
            });
        });

        /* =============================================================
           10. ПЛАВНАЯ ПРОКРУТКА
           ============================================================= */
        document.querySelectorAll('a[href^="#"]').forEach(function (anchor) {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                var target = document.querySelector(this.getAttribute('href'));
                if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        });
    })();
    </script>
</body>
</html>
